# 需求文件

## 簡介

本專案旨在開發一個類似 Twitter 的留言板應用，採用前後端分離架構。使用者可以透過 Google OAuth 進行 SSO 註冊登入，並能夠發布、修改、刪除和瀏覽文章。系統提供 RESTful API，其中寫入操作採用非同步處理方式。

技術架構：
- 後端：Java 17, Spring Boot 3, Gradle, MySQL
- 前端：React
- 認證：Google OAuth SSO

## 需求

### 需求 1：使用者認證與授權

**使用者故事：** 作為一個新使用者，我希望能夠透過 Google OAuth 快速註冊和登入系統，這樣我就不需要記住額外的帳號密碼。

#### 驗收標準

1. 當使用者點擊「使用 Google 登入」按鈕時，系統應該重導向到 Google OAuth 授權頁面
2. 當使用者在 Google 授權頁面同意授權時，系統應該取得使用者的基本資訊（姓名、電子郵件、頭像）
3. 當使用者首次透過 Google OAuth 登入時，系統應該自動建立新的使用者帳戶
4. 當使用者成功登入時，系統應該產生 JWT token 並回傳給前端
5. 當使用者的 token 過期時，系統應該要求重新登入
6. 當使用者登出時，系統應該使 token 失效

### 需求 2：文章管理功能

**使用者故事：** 作為一個已登入的使用者，我希望能夠發布、修改和刪除我的文章，這樣我就能夠分享我的想法並管理我的內容。

#### 驗收標準

1. 當已登入使用者提交新文章時，系統應該非同步處理並儲存文章內容
2. 當使用者修改自己的文章時，系統應該非同步更新文章內容並記錄修改時間
3. 當使用者刪除自己的文章時，系統應該非同步軟刪除該文章
4. 當使用者嘗試修改或刪除他人文章時，系統應該回傳 403 Forbidden 錯誤
5. 當文章內容超過 280 字元時，系統應該回傳驗證錯誤
6. 當文章內容為空時，系統應該回傳驗證錯誤
7. 當非同步操作完成時，系統應該回傳操作狀態給前端

### 需求 3：文章瀏覽功能

**使用者故事：** 作為一個使用者，我希望能夠瀏覽自己和他人的文章，這樣我就能夠查看平台上的內容。

#### 驗收標準

1. 當使用者請求文章列表時，系統應該回傳分頁的文章列表，按發布時間倒序排列
2. 當使用者請求特定使用者的文章時，系統應該回傳該使用者的所有公開文章
3. 當使用者請求自己的文章時，系統應該回傳包含已刪除文章的完整列表
4. 當使用者請求單篇文章詳情時，系統應該回傳完整的文章資訊
5. 當請求不存在的文章時，系統應該回傳 404 Not Found 錯誤
6. 當未登入使用者嘗試存取需要認證的資源時，系統應該回傳 401 Unauthorized 錯誤

### 需求 4：RESTful API 設計

**使用者故事：** 作為一個前端開發者，我希望有清楚定義的 RESTful API，這樣我就能夠輕鬆整合前後端功能。

#### 驗收標準

1. 當 API 被呼叫時，系統應該遵循 RESTful 設計原則
2. 當執行寫入操作（POST, PUT, DELETE）時，系統應該採用非同步處理方式
3. 當 API 回應時，系統應該使用標準的 HTTP 狀態碼
4. 當發生錯誤時，系統應該回傳結構化的錯誤訊息
5. 當 API 需要認證時，系統應該驗證 JWT token
6. 當 API 回應資料時，系統應該使用 JSON 格式

### 需求 5：前後端分離架構

**使用者故事：** 作為一個系統架構師，我希望前後端能夠獨立開發和部署，這樣能夠提高開發效率和系統可維護性。

#### 驗收標準

1. 當前端應用啟動時，系統應該能夠獨立於後端運行
2. 當後端 API 服務啟動時，系統應該能夠獨立於前端運行
3. 當前端需要資料時，系統應該透過 HTTP API 與後端通訊
4. 當跨域請求發生時，系統應該正確處理 CORS 設定
5. 當前端部署時，系統應該能夠配置不同環境的 API 端點
6. 當後端 API 變更時，系統應該透過版本控制確保向後相容性