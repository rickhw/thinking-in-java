# Docker Compose Environment Configuration for PGB4 Message Board
# Copy this file to .env and customize the values for your environment

# =============================================================================
# BUILD CONFIGURATION
# =============================================================================
BUILD_VERSION=1.0.0

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# MySQL Database Settings
DB_NAME=pgb
DB_USERNAME=pgb_user
DB_PASSWORD=pgb_password
DB_ROOT_PASSWORD=medusa
DB_PORT=3306

# Database Connection Pool Settings
DB_POOL_SIZE=20
DB_POOL_MIN_IDLE=10

# JPA Settings
JPA_DDL_AUTO=validate
JPA_SHOW_SQL=false

# =============================================================================
# BACKEND CONFIGURATION
# =============================================================================
# Server Settings
SERVER_PORT=8080
CONTEXT_PATH=

# Logging Configuration
LOG_LEVEL=WARN
APP_LOG_LEVEL=INFO

# Performance Settings
ASYNC_CORE_SIZE=10
ASYNC_MAX_SIZE=20
ASYNC_QUEUE_CAPACITY=100

# JVM Memory Settings
JVM_MIN_HEAP=512m
JVM_MAX_HEAP=1024m

# Resource Limits
BACKEND_MEMORY_LIMIT=1.5G
BACKEND_CPU_LIMIT=1.0
BACKEND_MEMORY_RESERVATION=512M
BACKEND_CPU_RESERVATION=0.5

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
# Frontend Port
FRONTEND_PORT=3000

# API URL (used during build)
FRONTEND_API_URL=http://localhost:8080/api/v1

# Nginx Settings
NGINX_WORKERS=auto
NGINX_CONNECTIONS=1024
NGINX_MAX_BODY_SIZE=16M

# Resource Limits
FRONTEND_MEMORY_LIMIT=256M
FRONTEND_CPU_LIMIT=0.5
FRONTEND_MEMORY_RESERVATION=128M
FRONTEND_CPU_RESERVATION=0.25

# =============================================================================
# REDIS CONFIGURATION (Optional)
# =============================================================================
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_MEMORY_LIMIT=128M
REDIS_CPU_LIMIT=0.25

# =============================================================================
# LOAD BALANCER CONFIGURATION (Optional)
# =============================================================================
LB_PORT=80
LB_SSL_PORT=443

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================
# Data and Logs Directory (relative to docker-compose.yml)
DATA_DIR=./data
LOGS_DIR=./logs

# =============================================================================
# NETWORK CONFIGURATION
# =============================================================================
NETWORK_SUBNET=172.20.0.0/16

# =============================================================================
# DEVELOPMENT OVERRIDES
# =============================================================================
# Uncomment and modify these for development environment
# JPA_DDL_AUTO=update
# JPA_SHOW_SQL=true
# LOG_LEVEL=DEBUG
# APP_LOG_LEVEL=DEBUG
# FRONTEND_API_URL=http://localhost:8080/api/v1

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================
# Uncomment and modify these for production environment
# JPA_DDL_AUTO=validate
# JPA_SHOW_SQL=false
# LOG_LEVEL=WARN
# APP_LOG_LEVEL=INFO
# JVM_MIN_HEAP=1g
# JVM_MAX_HEAP=2g
# BACKEND_MEMORY_LIMIT=2.5G
# BACKEND_CPU_LIMIT=2.0